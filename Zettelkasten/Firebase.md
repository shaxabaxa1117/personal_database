—â	–î–µ–Ω—å : 2025-01-05 
–í—Ä–µ–º—è : 21-55

Status : #Programming  


# üë®‚ÄçüíªFirebase


- # [[Firekeys]]
- # [[Firebase Cloud Messaging (FCM)]]

## Adding firebase tools


```ad-note

 - in terminal
 
 ```ad-important

`npm install -g firebase-tools`




```ad-important
`firebase login`

```ad-important
`flutter pub global activate flutterfire_cli`
```ad-important
`flutter configure` + choose web + add com.example.project_name (at the end)
```ad-important
flutter pub add firebase_auth
```ad-important
in main

`¬†WidgetsFlutterBinding.ensureInitialized();`

`await Firebase.initializeApp(options: DefaultFirebaseOptions.currentPlatform);`
![[Pasted image 20250105230153.png]]
```



–≠—Ç–∞ –æ—à–∏–±–∫–∞ —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–æ, —á—Ç–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ `firebase_auth` —Ç—Ä–µ–±—É–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é SDK (`minSdkVersion`) 23, –≤ —Ç–æ –≤—Ä–µ–º—è –∫–∞–∫ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ —É–∫–∞–∑–∞–Ω–æ –∑–Ω–∞—á–µ–Ω–∏–µ 21.

–î–ª—è —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –ø—Ä–æ–±–ª–µ–º—ã –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

---

### **1. –ò–∑–º–µ–Ω–∏—Ç–µ `minSdkVersion` –≤ `build.gradle`:**

- –û—Ç–∫—Ä–æ–π —Ñ–∞–π–ª:
    
    `android/app/build.gradle`
    
- –ù–∞–π–¥–∏—Ç–µ —Å–µ–∫—Ü–∏—é `defaultConfig` –∏ –∏–∑–º–µ–Ω–∏—Ç–µ `minSdkVersion`:
    
  ```dart
defaultConfig 
{     
applicationId "com.example.simple_chat_app"   
minSdkVersion 23 // –ò–∑–º–µ–Ω–∏—Ç–µ —Å 21 –Ω–∞ 23    
targetSdkVersion 33     
versionCode 1     
versionName "1.0" 
}
```


---

## üß± **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏ Firestore**

### **1. –ö–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç—ã**

Firestore —Ö—Ä–∞–Ω–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ –≤–∏–¥–µ **–∫–æ–ª–ª–µ–∫—Ü–∏–π** –∏ **–¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**:

- **–ö–æ–ª–ª–µ–∫—Ü–∏—è (collection):**
    - –ê–Ω–∞–ª–æ–≥ —Ç–∞–±–ª–∏—Ü—ã –≤ SQL.
    - –°–æ–¥–µ—Ä–∂–∏—Ç –Ω–∞–±–æ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
    - –ü—Ä–∏–º–µ—Ä: `users` (–∫–æ–ª–ª–µ–∫—Ü–∏—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π).
- **–î–æ–∫—É–º–µ–Ω—Ç (document):**
    - –ê–Ω–∞–ª–æ–≥ —Å—Ç—Ä–æ–∫–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ.
    - –°–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ (JSON-–ø–æ–¥–æ–±–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞).
    - –ü—Ä–∏–º–µ—Ä: –¥–æ–∫—É–º–µ–Ω—Ç —Å –¥–∞–Ω–Ω—ã–º–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ.
- **–ü—Ä–∏–º–µ—Ä —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:**
    
![[Pasted image 20250108120009.png]]
### **2. –ú–µ—Ç–æ–¥—ã: doc, set, –∏ –¥—Ä—É–≥–∏–µ**

#### **`doc`**

- –ú–µ—Ç–æ–¥ `doc()` —É–∫–∞–∑—ã–≤–∞–µ—Ç, —Å –∫–∞–∫–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–º –≤—ã —Ö–æ—Ç–∏—Ç–µ —Ä–∞–±–æ—Ç–∞—Ç—å.
- –ï—Å–ª–∏ ID –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–µ —É–∫–∞–∑–∞–Ω, Firestore –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—Å—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID.
- –ü—Ä–∏–º–µ—Ä:
    
![[Pasted image 20250108120035.png]]
#### **`set`**

- –ú–µ—Ç–æ–¥ `set()` –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —É–∫–∞–∑–∞–Ω–Ω—ã–π –¥–æ–∫—É–º–µ–Ω—Ç.
- –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –æ–Ω –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω.
- –ï—Å–ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç —Å—É—â–µ—Å—Ç–≤—É–µ—Ç, –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç **–ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞–Ω—ã**.
- –ü—Ä–∏–º–µ—Ä:
    
![[Pasted image 20250108120050.png]]

#### **`add`**

- –ú–µ—Ç–æ–¥ `add()` —Å–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –¥–æ–∫—É–º–µ–Ω—Ç –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –µ–≥–æ ID.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –∫–æ–≥–¥–∞ ID –Ω–µ –≤–∞–∂–µ–Ω:
    
![[Pasted image 20250108120155.png]]

#### **`update`**

- –ú–µ—Ç–æ–¥ `update()` –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ —É–∫–∞–∑–∞–Ω–Ω—ã–µ –ø–æ–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è, –µ—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö, –Ω–µ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞—è –¥–æ–∫—É–º–µ–Ω—Ç.
- –ü—Ä–∏–º–µ—Ä:
    
![[Pasted image 20250108120208.png]]

#### **`delete`**

- –£–¥–∞–ª—è–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç:
    
![[Pasted image 20250108120226.png]]

---

### üîÑ **–°–≤—è–∑—å Firestore –∏ Stream**

Firestore –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Å –ø–æ–º–æ—â—å—é **Stream**.

#### –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. Firestore —É–≤–µ–¥–æ–º–ª—è–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–ª–∏ —É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö).
2. –≠—Ç–æ —Ä–µ–∞–ª–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ –º–µ—Ç–æ–¥ `snapshots()`:
    - –û–Ω –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `Stream`, –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –≤—ã –º–æ–∂–µ—Ç–µ –ø–æ–¥–ø–∏—Å–∞—Ç—å—Å—è.
    - –ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è, Stream –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

#### –ü—Ä–∏–º–µ—Ä:

–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏:

![[Pasted image 20250108120250.png]]`

- **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ —ç—Ç–æ–º –∫–æ–¥–µ?**
    1. `stream`: –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∫–æ–ª–ª–µ–∫—Ü–∏—é `users` —á–µ—Ä–µ–∑ `snapshots()`.
    2. –ö–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ –¥–∞–Ω–Ω—ã–µ –≤ –∫–æ–ª–ª–µ–∫—Ü–∏–∏ –∏–∑–º–µ–Ω—è—é—Ç—Å—è, Flutter –æ–±–Ω–æ–≤–ª—è–µ—Ç –≤–∏–¥–∂–µ—Ç `StreamBuilder`.
    3. –í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—ã –≤—Å–µ–≥–¥–∞ –≤–∏–¥–∏—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ã–π —Å–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

---

### üõ†Ô∏è **–ö–∞–∫ Firestore —Å–≤—è–∑–∞–Ω —Å Flutter**

Firestore –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç SDK, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç:

1. **–ß–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ:**
    - –ß–µ—Ä–µ–∑ `get()` (–µ–¥–∏–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ).
    - –ß–µ—Ä–µ–∑ `snapshots()` (–≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏).
2. **–î–æ–±–∞–≤–ª—è—Ç—å/–∏–∑–º–µ–Ω—è—Ç—å –¥–∞–Ω–Ω—ã–µ:**
    - –ò—Å–ø–æ–ª—å–∑—É—è `set`, `add`, `update`.
3. **–£–ø—Ä–∞–≤–ª—è—Ç—å –¥–æ—Å—Ç—É–ø–æ–º:**
    - –ß–µ—Ä–µ–∑ –ø—Ä–∞–≤–∏–ª–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (Firestore Security Rules).

---

### üìù **–ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞**

–î–æ–±–∞–≤–∏–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –ø–æ–¥–ø–∏—à–µ–º—Å—è –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

#### **–ö–æ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**

![[Pasted image 20250108120505.png]]

#### **–ö–æ–¥ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**

![[Pasted image 20250108120602.png]]

---

### üîë **–ü–æ—á–µ–º—É Firestore —É–¥–æ–±–µ–Ω –¥–ª—è —á–∞—Ç–æ–≤?**

1. **–î–∞–Ω–Ω—ã–µ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**:
    - –°–æ–æ–±—â–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –±–ª–∞–≥–æ–¥–∞—Ä—è `snapshots()`.
2. **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤**:
    - –ì–∏–±–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ —á–∞—Ç–æ–≤.
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å**:
    - Firestore –ª–µ–≥–∫–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ç—ã—Å—è—á–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.
4. **–õ–µ–≥–∫–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Flutter**:
    - SDK –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞—Ç–∏–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Firestore.







---
# References

